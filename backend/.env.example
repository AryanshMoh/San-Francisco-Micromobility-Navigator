# =============================================================================
# SF Micromobility Navigation API - Environment Configuration
# =============================================================================
# Copy this file to .env and update values for your environment.
# NEVER commit .env to version control!
# =============================================================================

# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------
APP_NAME="SF Micromobility Navigation API"
APP_ENV=development  # Options: development, staging, production
DEBUG=false

# -----------------------------------------------------------------------------
# Security Settings (REQUIRED for production)
# -----------------------------------------------------------------------------
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(64))"
SECRET_KEY=your-secret-key-min-64-chars-for-production

# API Keys (comma-separated, min 32 chars each)
# Generate with: python -c "import secrets; print(f'sk_{secrets.token_urlsafe(32)}')"
API_KEYS=
API_KEY_REQUIRED=false  # Set to true in production

# -----------------------------------------------------------------------------
# Database (REQUIRED)
# -----------------------------------------------------------------------------
# Format: postgresql+asyncpg://user:password@host:port/database
DATABASE_URL=postgresql+asyncpg://micromobility:devpassword@localhost:5432/micromobility_nav

# -----------------------------------------------------------------------------
# Redis (for rate limiting and caching)
# -----------------------------------------------------------------------------
REDIS_URL=redis://localhost:6379/0

# -----------------------------------------------------------------------------
# Rate Limiting
# -----------------------------------------------------------------------------
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100        # Max requests per window (unauthenticated)
RATE_LIMIT_WINDOW_SECONDS=60   # Window duration in seconds
RATE_LIMIT_BURST=20            # Burst allowance

# -----------------------------------------------------------------------------
# JWT Authentication (optional, in addition to API keys)
# -----------------------------------------------------------------------------
JWT_ENABLED=false              # Set to true to enable JWT authentication
JWT_ACCESS_EXPIRE_MINUTES=30   # Access token expiry
JWT_REFRESH_EXPIRE_DAYS=7      # Refresh token expiry
JWT_ALGORITHM=HS256            # Signing algorithm
JWT_ISSUER=sf-micromobility-api
JWT_AUDIENCE=sf-micromobility-client

# -----------------------------------------------------------------------------
# CORS (comma-separated origins for production)
# -----------------------------------------------------------------------------
CORS_ORIGINS=["http://localhost:5173","http://localhost:3000"]

# -----------------------------------------------------------------------------
# External Services
# -----------------------------------------------------------------------------
# Valhalla routing engine
VALHALLA_URL=http://localhost:8002

# Mapbox (for geocoding, optional)
MAPBOX_ACCESS_TOKEN=

# SF Open Data (for official datasets)
SF_OPENDATA_APP_TOKEN=

# OpenWeather (for weather-aware routing, optional)
OPENWEATHER_API_KEY=

# -----------------------------------------------------------------------------
# Logging
# -----------------------------------------------------------------------------
LOG_LEVEL=INFO  # Options: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_REQUESTS=true

# -----------------------------------------------------------------------------
# San Francisco Bounding Box (default values, usually no need to change)
# -----------------------------------------------------------------------------
SF_MIN_LON=-122.52
SF_MIN_LAT=37.70
SF_MAX_LON=-122.35
SF_MAX_LAT=37.82
